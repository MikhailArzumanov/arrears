export class ParamValidator{
    static validationMap = {
        '\t': '%09',
        ' ': '%20',
        '!': '%21',
        '"': '%22',
        '#': '%23',
        '$': '%24',
        '%': '%25',
        '&': '%26',
        '\'': '%27',
        '(': '%28',
        ')': '%29',
        '*': '%2A',
        '+': '%2B',
        ',': '%2C',
        '-': '%2D',
        '.': '%2E',
        '/': '%2F',
        '0': '%30',
        '1': '%31',
        '2': '%32',
        '3': '%33',
        '4': '%34',
        '5': '%35',
        '6': '%36',
        '7': '%37',
        '8': '%38',
        '9': '%39',
        ':': '%3A',
        ';': '%3B',
        '<': '%3C',
        '=': '%3D',
        '>': '%3E',
        '?': '%3F',
        '@': '%40',
        '[': '%5B',
        '\\': '%5C',
        ']': '%5D',
        '^': '%5E',
        '`': '%60',
        '{': '%7B',
        '|': '%7C',
        '}': '%7D',
        '~': '%7E',
        //' ': '%7F',
        '€': '%E2%82%AC',
        '‚': '%E2%80%9A',
        'ƒ': '%C6%92',
        '„': '%E2%80%9E',
        '…': '%E2%80%A6',
        '†': '%E2%80%A0',
        '‡': '%E2%80%A1',
        'ˆ': '%CB%86',
        '‰': '%E2%80%B0',
        'Š': '%C5%A0',
        '‹': '%E2%80%B9',
        'Œ': '%C5%92',
        'Ž': '%C5%BD',
        '‘': '%E2%80%98',
        '’': '%E2%80%99',
        '“': '%E2%80%9C',
        '”': '%E2%80%9D',
        '•': '%E2%80%A2',
        '–': '%E2%80%93',
        '—': '%E2%80%94',
        '˜': '%CB%9C',
        '™': '%E2%84',
        'š': '%C5%A1',
        '›': '%E2%80',
        'œ': '%C5%93',
        'ž': '%C5%BE',
        'Ÿ': '%C5%B8',
        ' ': '%C2%A0',
        '¡': '%C2%A1',
        '¢': '%C2%A2',
        '£': '%C2%A3',
        '¤': '%C2%A4',
        '¥': '%C2%A5',
        '¦': '%C2%A6',
        '§': '%C2%A7',
        '¨': '%C2%A8',
        '©': '%C2%A9',
        'ª': '%C2%AA',
        '«': '%C2%AB',
        '¬': '%C2%AC',
        '­': '%C2%AD',
        '®': '%C2%AE',
        '¯': '%C2%AF',
        '°': '%C2%B0',
        '±': '%C2%B1',
        '²': '%C2%B2',
        '³': '%C2%B3',
        '´': '%C2%B4',
        'µ': '%C2%B5',
        '¶': '%C2%B6',
        '·': '%C2%B7',
        '¸': '%C2%B8',
        '¹': '%C2%B9',
        'º': '%C2%BA',
        '»': '%C2%BB',
        '¼': '%C2%BC',
        '½': '%C2%BD',
        '¾': '%C2%BE',
        '¿': '%C2%BF',
        'À': '%C3%80',
        'Á': '%C3%81',
        'Â': '%C3%82',
        'Ã': '%C3%83',
        'Ä': '%C3%84',
        'Å': '%C3%85',
        'Æ': '%C3%86',
        'Ç': '%C3%87',
        'È': '%C3%88',
        'É': '%C3%89',
        'Ê': '%C3%8A',
        'Ë': '%C3%8B',
        'Ì': '%C3%8C',
        'Í': '%C3%8D',
        'Î': '%C3%8E',
        'Ï': '%C3%8F',
        'Ð': '%C3%90',
        'Ñ': '%C3%91',
        'Ò': '%C3%92',
        'Ó': '%C3%93',
        'Ô': '%C3%94',
        'Õ': '%C3%95',
        'Ö': '%C3%96',
        '×': '%C3%97',
        'Ø': '%C3%98',
        'Ù': '%C3%99',
        'Ú': '%C3%9A',
        'Û': '%C3%9B',
        'Ü': '%C3%9C',
        'Ý': '%C3%9D',
        'Þ': '%C3%9E',
        'ß': '%C3%9F',
        'à': '%C3%A0',
        'á': '%C3%A1',
        'â': '%C3%A2',
        'ã': '%C3%A3',
        'ä': '%C3%A4',
        'å': '%C3%A5',
        'æ': '%C3%A6',
        'ç': '%C3%A7',
        'è': '%C3%A8',
        'é': '%C3%A9',
        'ê': '%C3%AA',
        'ë': '%C3%AB',
        'ì': '%C3%AC',
        'í': '%C3%AD',
        'î': '%C3%AE',
        'ï': '%C3%AF',
        'ð': '%C3%B0',
        'ñ': '%C3%B1',
        'ò': '%C3%B2',
        'ó': '%C3%B3',
        'ô': '%C3%B4',
        'õ': '%C3%B5',
        'ö': '%C3%B6',
        '÷': '%C3%B7',
        'ø': '%C3%B8',
        'ù': '%C3%B9',
        'ú': '%C3%BA',
        'û': '%C3%BB',
        'ü': '%C3%BC',
        'ý': '%C3%BD',
        'þ': '%C3%BE',
        'ÿ': '%C3%BF',
        '№': '%E2%84%96',
        'А': '%D0%90',
        'а': '%D0%B0',
        'Б': '%D0%91',
        'б': '%D0%B1',
        'В': '%D0%92',
        'в': '%D0%B2',
        'Г': '%D0%93',
        'г': '%D0%B3',
        'Д': '%D0%94',
        'д': '%D0%B4',
        'Е': '%D0%95',
        'е': '%D0%B5',
        'Ё': '%D0%81',
        'ё': '%D1%91',
        'Ж': '%D0%96',
        'ж': '%D0%B6',
        'З': '%D0%97',
        'з': '%D0%B7',
        'И': '%D0%98',
        'и': '%D0%B8',
        'Й': '%D0%99',
        'й': '%D0%B9',
        'К': '%D0%9A',
        'к': '%D0%BA',
        'Л': '%D0%9B',
        'л': '%D0%BB',
        'М': '%D0%9C',
        'м': '%D0%BC',
        'Н': '%D0%9D',
        'н': '%D0%BD',
        'О': '%D0%9E',
        'о': '%D0%BE',
        'П': '%D0%9F',
        'п': '%D0%BF',
        'Р': '%D0%A0',
        'р': '%D1%80',
        'С': '%D0%A1',
        'с': '%D1%81',
        'Т': '%D0%A2',
        'т': '%D1%82',
        'У': '%D0%A3',
        'у': '%D1%83',
        'Ф': '%D0%A4',
        'ф': '%D1%84',
        'Х': '%D0%A5',
        'х': '%D1%85',
        'Ц': '%D0%A6',
        'ц': '%D1%86',
        'Ч': '%D0%A7',
        'ч': '%D1%87',
        'Ш': '%D0%A8',
        'ш': '%D1%88',
        'Щ': '%D0%A9',
        'щ': '%D1%89',
        'Ъ': '%D0%AA',
        'ъ': '%D1%8A',
        'Ы': '%D0%AB',
        'ы': '%D1%8B',
        'Ь': '%D0%AC',
        'ь': '%D1%8C',
        'Э': '%D0%AD',
        'э': '%D1%8D',
        'Ю': '%D0%AE',
        'ю': '%D1%8E',
        'Я': '%D0%AF',
        'я': '%D1%8F',
    }
    
    static replace(str, c, replacement, i_start = 0){
        let l = str.length;
        for(let i = i_start; i < l; i++){
            if(str[i] == c){
                return str.substring(0,i)+replacement+str.substring(i+1,l);
            }
        }
    }

    static validateParamsStr(str){
        let l = str.length;
        for(let i = 0;i<l;){
            let c = str[i];
            let validated = this.validationMap[c];
            if(validated){
                str = this.replace(str, c, validated, i);
                i += validated.length;
                l = str.length;
            } else i++;
        }
        return str;
    }
}